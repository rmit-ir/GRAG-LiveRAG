-- wrk -t2 -c100 -d30s -s strees_test_logits.lua http://0.0.0.0:8000/logits

-- - short body "20 tokens"
-- 	- batch_size=8, t2, c100, Result: 28r/s
-- 	- batch_size=32, t2, c100, Result: 48r/s
-- 	- batch_size=32, t4, c100, Result: 87r/s
-- 	- batch_size=32, t8, c100, Result: 66r/s
-- 	- batch_size=64, t2, c100, Result: 48r/s
-- 	- batch_size=64, t4, c100, Result: 94r/s
-- 	- batch_size=64, t5, c100, Result: 95r/s
-- 	- batch_size=64, t6, c100, Result: 96r/s
-- 	- batch_size=64, t8, c100, Result: 96r/s
-- - long body "629 tokens"
-- 	- batch_size=64, t4, c100, Result: 32r/s

counter = 0

request = function()
  counter = counter + 1
  local prompt = string.format("No. %d Answer the following question based on the provided context  If the context doesnt contain relevant information  say so     Context     Eraser    u     Docs and Diagrams for Engineering Teams    Papers with Code   The latest in Machine Learning    GitHub   rajivpant rbot  Ragbot AI is an augmented brain assistant developed by Rajiv Pant    Introducing Ragbot AI  A Personalized AI Assistant  Written by Ragbot AI    GitHub   jxzhangjhu Awesome LLM RAG  Awesome LLM RAG  a curated list of advanced retrieval augmented generation  RAG  in Large Language Models    Dust   Secure AI assistant with your companys knowledge    NebulaGraph Launches Industry First Graph RAG  Retrieval Augmented Generation with LLM Based on Knowledge Graphs    Comprehensive Guide to Using Mistral AI   u    s Large Language Models    Introduction   Mistral AI Large Language Models    GitHub   xlang ai OpenAgents  OpenAgents  An Open Platform for Language Agents in the Wild    GitHub   mlc ai mlc llm  Enable everyone to develop  optimize and deploy AI models natively on everyones devices     GitHub   smallcloudai refact  WebUI for Fine Tuning and Self hosting of Open Source Large Language Models for Coding    GitHub   open mmlab playground  A central hub for gathering and showcasing amazing projects that extend OpenMMLab with SAM and other exciting features     GitHub   ludwig ai ludwig  Low code framework for building custom LLMs  neural networks  and other AI models    GitHub   dosco llm client  LLMClient   A Caching and Debugging Proxy Server for LLM Users and A Multi LLM Client Library    Each returned document is used to develop a corresponding word probability distribution that is further used to rerank the returned documents according to the associated redundancy values  In another aspect thereof  the query component is coupled with a projection component to project answer redundancy from one document search to another  This includes obtaining the benefit of considerable answer redundancy from a second data source by projecting the success of the search of the second data source against a first data source   Ask com  IAC Search   Media  Inc    There are two parts to this patent    u     one involving monitoring and understanding affinities between searchers  and the other looking at their locations  An analogy of how this works might be what you see happen when you do a search at Amazon com for a book  You might be told that users who looked at that book also looked at or purchased certain other books  Well  during a query session  if you submit a query  and click through a certain result  other searches in that session may show results that are reranked based upon how other searchers who might have also made that first choice might have behaved in their query sessions   Methods and systems for providing a response to a query              Invented by Andy Curtis  Alan Levin  and Apostolos Gerasoulis  Granted December           Filed  September           Methods and systems for providing a response to a user   u    s query based on other users   u     picks  For one embodiment of the invention  user responses are correlated to determine an affinity among users  User affinity is then used to modify the presentation of the search results  For one embodiment the location of other user   u    s is used to modify the presentation of the search results   You scan a document filled with text  or of an object that has words and labels upon it  or a combination of both  and send the scanned copy off to a search engine  The process described in this patent  involves taking that scanned image  and creating a set of phrases related to it  that a searcher can use to conduct more information about the scan  The patent is fairly narrow  and doesn   u    t cover any type of object recognition other than letters     The generation effect relates to a phenomenon observed with the ability to better retain information for content that was generated by users themselves. Answer: ", counter)
  local body = string.format('{"prompt": "%s", "tokens": ["Yes", "No"]}', prompt)
  wrk.headers["Content-Type"] = "application/json"
  wrk.headers["User-Agent"] = "stress_test/11.0.2"
  return wrk.format("POST", nil, nil, body)
end